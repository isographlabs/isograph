type Query {
  """
  All the pets! What more could you ask for?
  """
  pets: [Pet!]!
  """
  Fetch a pet by id
  """
  pet(id: ID!): Pet
  """
  Fetch a pet by name
  """
  petByName(name: String!): Pet
  """
  Fetch a field by ID
  """
  node(id: ID!): Node
  """
  Who are you? Find out here!
  """
  viewer: Viewer!
  """
  Don't use this field. It's for testing.
  """
  topLevelField(input: TopLevelFieldInput): TopLevelField

  namable: Namable
  notImplemented: NotImplemented
}

interface Namable {
  firstName: String
  lastName: String
}

interface NotImplemented {
  someField: String
}

input TopLevelFieldInput {
  name: String
  nestedInput: NestedInput
}

input NestedInput {
  nestedField: String
}

type TopLevelField {
  name: String
}

type Viewer implements Node {
  id: ID!
  newsfeed(limit: Int!, skip: Int!): [NewsfeedItem!]!
}

type Mutation {
  set_pet_best_friend(id: ID!, new_best_friend_id: ID!): SetBestFriendResponse!
  set_pet_tagline(input: SetPetTaglineParams!): SetPetTaglineResponse!
  make_checkin_super(checkin_id: ID!): MakeCheckinSuperResponse!
}

interface Node {
  id: ID!
}

# TODO make this a union: Success | InvalidId instead of using an optional field
type MakeCheckinSuperResponse {
  icheckin: ICheckin
}

type SetBestFriendResponse {
  pet: Pet!
}

input SetPetTaglineParams {
  id: ID!
  tagline: String!
}

type SetPetTaglineResponse {
  pet: Pet!
}

"""
A pet is the joy in life
"""
type Pet implements Node & Namable {
  """
  The pet's ID
  """
  id: ID!
  """
  What do you call the pet when you're happy?
  """
  firstName: String!
  """
  What do you call the pet when you're angry?
  """
  lastName: String!
  """
  Pets have a very complex social life. Find out more!
  """
  best_friend_relationship: BestFriendRelationship

  picture: Url!
  """
  What you call the pet when you're very happy.
  """
  nickname: String

  """
  It's just a number.
  """
  age: Int!
  """
  Charisma? 100%
  """
  stats: PetStats

  """
  If your pet was a superhero.
  """
  tagline: String!
  """
  And if they had an alter ego.
  """
  alt_tagline: String!

  """
  Hold your enemies close...
  """
  potential_new_best_friends: [Pet!]!

  """
  Even pets use social media, mmkay.
  """
  checkins(limit: Int, skip: Int): [Checkin!]!
  """
  It's probably something from David Foster Wallace or Dostoevsky, keep up.
  """
  favorite_phrase: String
}

scalar Url

type BestFriendRelationship {
  best_friend: Pet!
  picture_together: Url
}

type PetStats {
  weight: Int
  intelligence: Int
  cuteness: Int
  hunger: Int
  sociability: Int
  energy: Int
}

type Checkin implements ICheckin & Node {
  id: ID!
  location: String!
  time: String!
}

"""
This interface exists solely allow make_checkin_super to
return an interface
"""
interface ICheckin implements Node {
  id: ID!
  location: String!
  time: String!
}

union NewsfeedItem = BlogItem | AdItem

type BlogItem implements Node {
  id: ID!
  author: String!
  title: String!
  content: String!
  moreContent: String!
  image: Image
}

type Image implements Node {
  id: ID!
  url: String!
}

type AdItem implements Node {
  id: ID!
  advertiser: String!
  message: String!
}
